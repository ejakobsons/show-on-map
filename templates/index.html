{% extends "bootstrap/base.html" %} {% block title %} Show on Map {% endblock %}
{% block content %}
<div
  class="container-fluid"
  style="justify-content: center; align-items: center; display: flex"
>
  <div class="col-xs-12 text-center">
    <div class="row">
      <div class="col-xs-12">
        <h1 style="font-weight: bold; font-size: 24px">
          Show addresses from another Webpage on a Map!
        </h1>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12" style="margin: 10px">
        <input
          type="text"
          id="urlInput"
          class="form-control"
          placeholder="Paste the link to the website"
          onkeyup="stoppedTyping()"
        />
      </div>
    </div>
    <div class="row" style="margin: 10px">
      <div class="col-xs-12">
        <button
          id="extractButton"
          class="btn btn-primary"
          onclick="verify()"
          disabled
        >
          Extract addresses
        </button>
      </div>
    </div>
    <div id="status" class="row" style="margin: 10px"></div>
    <div class="row">
      <img
        id="mapImage"
        src="{{ url_for('static', filename='map-and-pin.webp')
      }}"
        alt="Map and pin"
        style="max-width: 100%; margin: 10px"
      />
    </div>
    <div class="row">
      <div id="map" class="col-xs-8" style="height: 85vh"></div>
      <div
        id="address_list"
        class="col-xs-4 text-left"
        style="height: 85vh; overflow-y: scroll"
      ></div>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.3/socket.io.js"></script>
<script src="{{ url_for('static', filename='scripts.js') }}"></script>
<script
  type="text/javascript"
  src="https://www.bing.com/api/maps/mapcontrol?key={{ BING_MAPS_API_KEY }}"
  async
  defer
></script>

{% endblock %}
